'''   SolarMovie24.com | Stream TVsupertuga   Copyright (C) 2017 Mister-X   This program is free software: you can redistribute it and/or modify   it under the terms of the GNU General Public License as published by   the Free Software Foundation, either version 3 of the License, or   (at your option) any later version.   This program is distributed in the hope that it will be useful,   but WITHOUT ANY WARRANTY; without even the implied warranty of   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the   GNU General Public License for more details.   You should have received a copy of the GNU General Public License   along with this program.  If not, see <http://www.gnu.org/licenses/>.'''import urllib,urllib2,re,xbmcplugin,xbmcgui,urlresolver,sys,xbmc,xbmcaddon,os,urlparse,base64from t0mm0.common.addon import Addonfrom metahandler import metahandlersfrom resources.lib import utilsaddon_id = utils.addon_idaddDir = utils.addDiraddLink = utils.addLinkselfAddon = utils.selfAddonaddon = utils.addonfanart = utils.fanarticon = utils.addonnext = utils.nextart = utils.artname = utils.namemode = utils.modeurl = utils.urliconimage = utils.iconimagesite = utils.sitesetView = utils.setViewopen_url = utils.open_urlBASEURL = 'http://l-alimentation.com'def MAIN():		addDir('New Movies',BASEURL+'/movies?sort=upcoming',204,art+'newest.png',fanart)		addDir('Popular Movies',BASEURL+'/movies?sort=popular',204,art+'popular.png',fanart)		addDir('Featured Movies',BASEURL+'/movies?sort=featured',204,art+'featured.png',fanart)		addDir('All Movies',BASEURL+'/movies',204,art+'movies.png',fanart)		addDir('Genres',BASEURL,207,art+'genres.png',fanart)		addDir('Release Date',BASEURL,220,art+'release.png',fanart)		xbmc.executebuiltin('Container.SetViewMode(50)')		def GETMOVIES(url):	link = open_url(url)	match=re.compile('<div class="index_item index_item_ie">\n<a title="(.+?)" href="(.+?)">\n<img src="(.+?)"',re.DOTALL).findall(link)	for name, url, img in match:			try:				name = name.replace('&#8217;','\'').replace('#038;','').replace('\\xc3\\xa9','e').replace('&#8211;','-')				addDir(name,url,206,img,fanart)			except:pass	try:		np=re.compile('<a href="/movies/page/([^"]+)">Next .+?</a>', re.DOTALL | re.IGNORECASE).findall(link)[0]		np = BASEURL + '/movies/page/' + np		name = '[COLOR dodgerblue]' + 'Next Page >>' + '[/COLOR]'		addDir(name,np,204,next,fanart)	except:pass					xbmc.executebuiltin('Container.SetViewMode(50)')def GETGENRES(url,name):	link = open_url(url)	match=re.compile('<a href="http://l-alimentation.com/genre(.+?)">(.+?)</a>',re.DOTALL).findall(link)	for url, name in match:			try:				name = name.replace('&#8217;','\'').replace('#038;','').replace('\\xc3\\xa9','e').replace('&#8211;','-')				url = BASEURL + "/genre" + url				addDir(name,url,204,iconimage,fanart)			except:pass			xbmc.executebuiltin('Container.SetViewMode(50)')def GETRELEASE(url,name):	link = open_url(url)	match=re.compile('<a href="/year(.+?)">(.+?)</a>',re.DOTALL).findall(link)	for url, name in match:			try:				name = name.replace('&#8217;','\'').replace('#038;','').replace('\\xc3\\xa9','e').replace('&#8211;','-')				url = BASEURL + "/year" + url				addDir(name,url,204,iconimage,fanart)			except:pass		xbmc.executebuiltin('Container.SetViewMode(50)')	def GETSOURCE(name,url):	link = open_url(url)	match = re.compile('<a href="(.+?)" rel="nofollow" title="Watch Version .+?" target="_blank">(.+?)</a>',re.DOTALL).findall(link)	for url, name in match:		if 'HDhost' in name:			pass		elif 'nosvideo' in name:			pass		elif 'noslocker' in name:			pass		elif 'streamin' in name:			pass			else:			addLink(name,url,205,iconimage,fanart)	xbmc.executebuiltin('Container.SetViewMode(50)')	def SEARCH(url):	search_entered = ''	keyboard = xbmc.Keyboard(search_entered, 'Search eMovies.is')	keyboard.doModal()	if keyboard.isConfirmed():		search_entered = keyboard.getText().replace(' ','+')	if len(search_entered)>1:		url = url + '/?s=' + search_entered		progress = xbmcgui.DialogProgress()		GETMOVIES(url)			def resolve(name,url,iconimage):	progress = xbmcgui.DialogProgress()	progress.create('Stream TVsupertuga', 'Opening Stream For:')	progress.update(10, "", name, "" )	url = urlresolver.resolve(url)	liz=xbmcgui.ListItem(name, iconImage=iconimage,thumbnailImage=iconimage); liz.setInfo( type="Video", infoLabels={ "Title": name } )	ok=xbmcplugin.addDirectoryItem(handle=int(sys.argv[1]),url=url,listitem=liz)	xbmc.Player ().play(url, liz, False)